<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Tessel Garage Door Controller</title>
</head>
<body>
<header>
    <h1>Tessel Garage Door Controller</h1>
</header>
<p>Tap or click the 'Push Garage Door Button' button below to 'push' the remote garage door button. The app doesn't know anything about the current position of the door (up or down), so all it can do is push the button remotely and hope for the best.</p>
<button onclick="pushRemoteButton()">Push Garage Door Button</button>
<script type="text/javascript">
    function pushRemoteButton() {
        // Create a new XHR for communicating with the Tessel device
        var req = new XMLHttpRequest();
        req.open('GET', '/gdb');
        req.onload = function (e) {
            if (req.readyState == 4 && req.status == 200) {
                alert('The garage door button was pushed.');
            } else {
                console.log('Error', e); // If something went wrong, log that event to the console.
                alert(e);
            }
        }
        req.send(); // Send the request to the server
    }
</script>
</body>
</html>